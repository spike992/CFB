
ui_on_startup_difficulty_groups = {
	GER = {
		set_country_flag = ai_difficulty_setting_target
		add_to_array = { ai_difficulty_setting_targets = ITA }
		add_to_array = { ai_difficulty_setting_targets = CRO }
		add_to_array = { ai_difficulty_setting_targets = SLO }
		add_to_array = { ai_difficulty_setting_targets = BUL }
		add_to_array = { ai_difficulty_setting_targets = HUN }
		add_to_array = { ai_difficulty_setting_targets = ROM }
		add_to_array = { ai_difficulty_setting_targets = CZE }
		add_to_array = { ai_difficulty_setting_targets = AUS }
		add_to_array = { ai_difficulty_setting_targets = FIN }
		add_to_array = { ai_difficulty_setting_targets = IRQ }
		add_to_array = { ai_difficulty_setting_targets = ALB }
		add_to_array = { ai_difficulty_setting_targets = DEN }
		add_to_array = { ai_difficulty_setting_targets = ETH }
		add_to_array = { ai_difficulty_setting_targets = VIC }
		
		add_to_array = { name_array = 1 }
		add_to_array = { name_array = 24 }
		add_to_array = { name_array = 9 }
		add_to_array = { name_array = 19 }
	}
	ENG = {
		set_country_flag = ai_difficulty_setting_target
		add_to_array = { ai_difficulty_setting_targets = USA }
		add_to_array = { ai_difficulty_setting_targets = FRA }
		add_to_array = { ai_difficulty_setting_targets = CAN }
		add_to_array = { ai_difficulty_setting_targets = AST }
		add_to_array = { ai_difficulty_setting_targets = NZL }
		add_to_array = { ai_difficulty_setting_targets = MAL }
		add_to_array = { ai_difficulty_setting_targets = INS }
		add_to_array = { ai_difficulty_setting_targets = RAJ }
		add_to_array = { ai_difficulty_setting_targets = IRE }
		add_to_array = { ai_difficulty_setting_targets = HOL }
		add_to_array = { ai_difficulty_setting_targets = BEL }
		add_to_array = { ai_difficulty_setting_targets = POL }
		add_to_array = { ai_difficulty_setting_targets = GRE }
		#add_to_array = { ai_difficulty_setting_targets = YUG }
		add_to_array = { ai_difficulty_setting_targets = NOR }
		add_to_array = { ai_difficulty_setting_targets = BRA }
		add_to_array = { ai_difficulty_setting_targets = SAF }
		add_to_array = { ai_difficulty_setting_targets = MEX }
		#add_to_array = { ai_difficulty_setting_targets = NEP }
		add_to_array = { ai_difficulty_setting_targets = PHI }
		
		add_to_array = { name_array = 1 }
		add_to_array = { name_array = 12 }
		add_to_array = { name_array = 12 }
		add_to_array = { name_array = 9 }
		add_to_array = { name_array = 5 }
		add_to_array = { name_array = 19 }
	}
	SOV = {
		set_country_flag = ai_difficulty_setting_target
		add_to_array = { ai_difficulty_setting_targets = MON }
		#add_to_array = { ai_difficulty_setting_targets = SPR }
		#add_to_array = { ai_difficulty_setting_targets = LIT }
		#add_to_array = { ai_difficulty_setting_targets = EST }
		#add_to_array = { ai_difficulty_setting_targets = LAT }
		
		add_to_array = { name_array = 3 }
		add_to_array = { name_array = 15 }
		add_to_array = { name_array = 13 }
		add_to_array = { name_array = 9 }
		add_to_array = { name_array = 14 }
		add_to_array = { name_array = 20 }
		add_to_array = { name_array = 5 }
		add_to_array = { name_array = 18 }
		add_to_array = { name_array = 14 }
	}
	JAP = {
		set_country_flag = ai_difficulty_setting_target
		add_to_array = { ai_difficulty_setting_targets = MAN }
		add_to_array = { ai_difficulty_setting_targets = SIA }
		
		add_to_array = { name_array = 4 }
		add_to_array = { name_array = 1 }
		add_to_array = { name_array = 9 }
		add_to_array = { name_array = 20 }
		add_to_array = { name_array = 15 }
		add_to_array = { name_array = 1 }
		add_to_array = { name_array = 30 }
		add_to_array = { name_array = 11 }
		add_to_array = { name_array = 25 }
		add_to_array = { name_array = 15 }
		add_to_array = { name_array = 5 }
		add_to_array = { name_array = 9 }
		add_to_array = { name_array = 11 }
		add_to_array = { name_array = 5 }
		add_to_array = { name_array = 14 }
	}
	# CHI = {
	# 	set_country_flag = ai_difficulty_setting_target
	# 	add_to_array = { ai_difficulty_setting_targets = PRC }
	# 	add_to_array = { ai_difficulty_setting_targets = SHX }
	# 	add_to_array = { ai_difficulty_setting_targets = GXC }
	# 	add_to_array = { ai_difficulty_setting_targets = YUT }
	# 	add_to_array = { ai_difficulty_setting_targets = YUN }
	# 	add_to_array = { ai_difficulty_setting_targets = ZXL }
	# 	add_to_array = { ai_difficulty_setting_targets = ECR }
	# 	add_to_array = { ai_difficulty_setting_targets = XIA }
	# 	add_to_array = { ai_difficulty_setting_targets = SCC }
	# 	add_to_array = { ai_difficulty_setting_targets = SKC }
	# 	add_to_array = { ai_difficulty_setting_targets = SDC }
	# 	add_to_array = { ai_difficulty_setting_targets = XSM }
	# 	add_to_array = { ai_difficulty_setting_targets = PGR }
		
	# 	add_to_array = { name_array = 3 }
	# 	add_to_array = { name_array = 8 }
	# 	add_to_array = { name_array = 9 }
	# 	add_to_array = { name_array = 14 }
	# 	add_to_array = { name_array = 5 }
	# 	add_to_array = { name_array = 19 }
	# 	add_to_array = { name_array = 5 }
	# 	add_to_array = { name_array = 30 }
	# 	add_to_array = { name_array = 21 }
	# 	add_to_array = { name_array = 14 }
	# 	add_to_array = { name_array = 9 }
	# 	add_to_array = { name_array = 20 }
	# 	add_to_array = { name_array = 5 }
	# 	add_to_array = { name_array = 4 }
	# 	add_to_array = { name_array = 30 }
	# 	add_to_array = { name_array = 6 }
	# 	add_to_array = { name_array = 18 }
	# 	add_to_array = { name_array = 15 }
	# 	add_to_array = { name_array = 14 }
	# 	add_to_array = { name_array = 20 }
	# }
	# SWE = {
	# 	set_country_flag = ai_difficulty_setting_target
	# 	add_to_array = { ai_difficulty_setting_targets = SWI }
	# 	add_to_array = { ai_difficulty_setting_targets = POR }
	# 	add_to_array = { ai_difficulty_setting_targets = PER }
	# 	add_to_array = { ai_difficulty_setting_targets = TIB }
	# 	add_to_array = { ai_difficulty_setting_targets = LIB }
	# 	add_to_array = { ai_difficulty_setting_targets = SAU }
	# 	add_to_array = { ai_difficulty_setting_targets = AFG }
	# 	add_to_array = { ai_difficulty_setting_targets = YEM }
		
	# 	add_to_array = { name_array = 14 }
	# 	add_to_array = { name_array = 5 }
	# 	add_to_array = { name_array = 21 }
	# 	add_to_array = { name_array = 20 }
	# 	add_to_array = { name_array = 18 }
	# 	add_to_array = { name_array = 1 }
	# 	add_to_array = { name_array = 12 }
	# }
	# CHL = {
	# 	set_country_flag = ai_difficulty_setting_target
	# 	add_to_array = { ai_difficulty_setting_targets = COL }
	# 	add_to_array = { ai_difficulty_setting_targets = COS }
	# 	add_to_array = { ai_difficulty_setting_targets = ECU }
	# 	add_to_array = { ai_difficulty_setting_targets = ELS }
	# 	add_to_array = { ai_difficulty_setting_targets = GUA }
	# 	add_to_array = { ai_difficulty_setting_targets = HON }
	# 	add_to_array = { ai_difficulty_setting_targets = NIC }
	# 	add_to_array = { ai_difficulty_setting_targets = PAN }
	# 	add_to_array = { ai_difficulty_setting_targets = PRU }
	# 	add_to_array = { ai_difficulty_setting_targets = URG }
	# 	add_to_array = { ai_difficulty_setting_targets = VEN }
	# 	add_to_array = { ai_difficulty_setting_targets = PAR }
	# 	add_to_array = { ai_difficulty_setting_targets = CUB }
	# 	add_to_array = { ai_difficulty_setting_targets = DOM }
	# 	add_to_array = { ai_difficulty_setting_targets = ARG }
	# 	add_to_array = { ai_difficulty_setting_targets = BOL }
		
	# 	add_to_array = { name_array = 19 }
	# 	add_to_array = { name_array = 15 }
	# 	add_to_array = { name_array = 21 }
	# 	add_to_array = { name_array = 20 }
	# 	add_to_array = { name_array = 8 }
	# 	add_to_array = { name_array = 30 }
	# 	add_to_array = { name_array = 1 }
	# 	add_to_array = { name_array = 13 }
	# 	add_to_array = { name_array = 5 }
	# 	add_to_array = { name_array = 18 }
	# 	add_to_array = { name_array = 9 }
	# 	add_to_array = { name_array = 3 }
	# 	add_to_array = { name_array = 1 }
	# }
}
ui_ai_add_country_to_settings = {
	var:ROOT.selected_target = {
		set_variable = { PREV.ai_diff_politics = ai_diff_politics }
		set_variable = { PREV.ai_diff_army = ai_diff_army }
		set_variable = { PREV.ai_diff_air = ai_diff_air }
		set_variable = { PREV.ai_diff_navy = ai_diff_navy }
		set_variable = { PREV.ai_diff_construction = ai_diff_construction }
		set_variable = { PREV.ai_diff_production = ai_diff_production }
		
		for_each_loop = {
			array = BI_AI_modifier_list
			
			if = {
				limit = {
					NOT = { is_in_array = { PREV.BI_AI_modifier_list = v } }
				}
				add_to_array = { PREV.BI_AI_modifier_list = v }
			}
			meta_effect = {
				text = {
					set_variable = { PREV.BI_AI_mod/[X] = BI_AI_mod/[X] }
				}
				X = "[?v.GetTokenKey]"
			}
		}
	}
}
ui_ai_remove_country_from_settings = {
	clear_variable = ai_diff_politics
	clear_variable = ai_diff_army
	clear_variable = ai_diff_air
	clear_variable = ai_diff_navy
	clear_variable = ai_diff_construction
	clear_variable = ai_diff_production
	
	remove_ideas = {
		
		ai_diff_politics_1
		ai_diff_politics_2
		ai_diff_politics_3
		ai_diff_politics_4
		
		ai_diff_army_1
		ai_diff_army_2
		ai_diff_army_3
		ai_diff_army_4
		
		ai_diff_air_1
		ai_diff_air_2
		ai_diff_air_3
		ai_diff_air_4
		
		ai_diff_navy_1
		ai_diff_navy_2
		ai_diff_navy_3
		ai_diff_navy_4
			
		ai_diff_construction_1
		ai_diff_construction_2
		ai_diff_construction_3
		ai_diff_construction_4
		
		ai_diff_production_1
		ai_diff_production_2
		ai_diff_production_3
		ai_diff_production_4
	}
	
	for_each_loop = {
		array = BI_AI_modifier_list
		
		meta_effect = { 
			text = {
				clear_variable = BI_AI_mod/[v]
			}
			v = "[?v.GetTokenKey]"
		}
	}
	clear_array = BI_AI_modifier_list
}	
	
BI_filter_effect = {
	clear_array = country_selection

	every_other_country = {
		limit = {

			if = { limit = { ROOT = {
					has_country_flag = BI_filter_neighbors_owned
				} }

				is_owner_neighbor_of = ROOT
			}

			if = { limit = { ROOT = {
					has_country_flag = BI_filter_neighbors
				} }

				is_neighbor_of = ROOT
			}

			if = { limit = { ROOT = {
					has_country_flag = BI_filter_major
				} }

				is_major = yes
			}

			if = { limit = { ROOT = {
					has_country_flag = BI_filter_faction
				} }

				is_in_faction_with = ROOT
			}

			if = { limit = { ROOT = {
					has_country_flag = BI_filter_subjects
				} }

				is_subject_of = ROOT
			}

			if = { limit = { ROOT = {
					has_country_flag = BI_filter_enemies
				} }

				has_war_with = ROOT
			}
		}
		add_to_array = { Root.country_selection = This.id }
	}

}